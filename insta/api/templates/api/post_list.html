{% extends 'api/base.html' %}

{% block content %}
    {% for post in posts %}
        <div class="card">
            <div class="card_header">
                <div class="profile_image">

                </div>
                <div class="post_info">
                    <div class="post_name">{{ post.author }}</div>
                    <div class="post_location">Dnipro</div>
                </div>
                <div class="post_options"><i class="fas fa-ellipsis-h"></i></div>

            </div>
            <div class="post_image">
                <img src="{{ post.photo.url }}"alt="">
            </div>
            <div class="engagement">
                <!-- <a href=""><i class="far fa-heart"></i></a> -->
                <form action="{% url 'api:like-post'%}" method='POST' class="ui form" style="display: inline-block;margin: 0;margin-block-end: 0;">
                    {% csrf_token %}
                    <input type='hidden' name='post_id' value="{{ post.id }}">
                    <button type="submit" style="outline: none;background: none;border: 0;width: 40px;height: 40px;padding: 0;display: inline-block;
                "><i class="far fa-heart" style="transform: scale(2);"></i></button>

                </form>

                
                <a href=""><i class="far fa-comment"></i></a>
                <a href=""><i class="far fa-share-square"></i></a>
                <a href=""><i class="far fa-bookmark"></i></a>
            </div>
            <div class="likes">
                <strong>{{ post.liked.all.count }}</strong>
            </div>
            <div class="caption">
                <a href=""><h2> {{ post.author }}</h2></a>
                <span><p>{{ post.caption }}</p></span>
            </div>
            <div class="time_period">
                {{post.created_at | timesince }} ago
            </div>
        </div>

    {% endfor %}

{% endblock %}    